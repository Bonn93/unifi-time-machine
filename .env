# ------------------------------------------------------------------------------
# UniFi Time-Machine Environment Variables
#
# This file configures the application when using Docker Compose.
# Copy this file to .env and fill in the values for your environment.
# ------------------------------------------------------------------------------

# --- Docker Container Settings ---
# The external port to access the web UI.
HTTP_PORT=8000

# --- UniFi Protect Integration Settings ---
# The IP address or hostname of your UniFi Protect controller.
UFP_HOST=192.168.1.1
# The API key from your UniFi Protect user account.
# Go to your UniFi OS Console -> Integrations -> Create API Key
# This should be set as an environment variable in your shell:
# export UFP_API_KEY="your_key_here"
# UFP_API_KEY=
# The ID of the camera you want to capture snapshots from.
# You can find this in the URL when viewing the camera in the Protect web UI.
TARGET_CAMERA_ID=

# --- Authentication Settings ---
# A mandatory, base64-encoded secret key for application security.
# The application will not start without it.
# This should be set as an environment variable in your shell:
# export APP_KEY=$(head -c 32 /dev/urandom | base64)
# APP_KEY=
# The password for the initial 'admin' user, created on first launch.
# This is required to be set on the first run. It can be changed or removed later.
ADMIN_PASSWORD=

# --- Timelapse and Video Generation Settings ---
# The interval, in seconds, between each snapshot.
# Default is 3600 (1 hour). A value of 60 is every minute.
TIMELAPSE_INTERVAL=60
# The interval, in seconds, at which to generate a new timelapse video.
# Default is 300 (5 minutes).
VIDEO_CRON_INTERVAL=600
# The quality of the generated video.
# Options: low, medium, high, ultra
VIDEO_QUALITY=medium

# --- Data Retention and Cleanup Settings ---
# The number of old archived timelapse videos to keep.
VIDEO_ARCHIVES_TO_KEEP=3
# The directory inside the container for storing snapshots.
SNAPSHOTS_DIR=snapshots
# The directory inside the container for storing gallery images.
GALLERY_DIR=gallery
# The path to the ffmpeg log file.
FFMPEG_LOG_PATH=ffmpeg_log.txt

# --- Gin Web Framework Settings ---
# Set the Gin mode. Use 'release' for production, 'debug' for development.
GIN_MODE=release

# --- Timezone ---
# The timezone to use for the container.
# e.g., "Australia/Sydney", "America/New_York"
TZ=Australia/Sydney
